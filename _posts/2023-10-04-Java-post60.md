---
layout: post
title:  "[포스코DX|IoC Container|9주] 36일차 수업 "
date:   2023-10-04
categories: Java
---

# 포스코DX X 비트교육센터 6기 - IoC Container / JUnit

---

## container 실습

XML Auto Configuration(Annotation Scanning)

xml annotation-config 기반의 container를 이용해보기!!!!!!!

![image](https://github.com/talkingOrange/talkingOrange.github.io/assets/88815795/887660be-25ba-4d88-8b48-982b516bdb53)


- 파일 구조

```

[src/main/java]
	com.poscodx.container.user
		|-- User.java
		|-- Friend.java
		
	com.poscodx.container.user.test
		|-- XmlConfigTest.java
		
	com.poscodx.container.soundsystem
	com.poscodx.container.videosystem


[src/main/resources]
	com.poscodx.container.user
		|-- applicationContext.xml

[src/test/java]
[src/test/resources]
```


- XmlConfigTest.java

```java
package com.poscodx.container.user.test;

import org.springframework.beans.factory.BeanFactory;
import org.springframework.beans.factory.xml.XmlBeanFactory;
import org.springframework.core.io.ClassPathResource;

public class XmlConfigTest {
	public static void main(String[] args) {
		//XML Auto Configuration(Annotation Scanning)
		testBeanFactory01();
		
	}

	private static void testBeanFactory01() {
		BeanFactory bf = new XmlBeanFactory(new ClassPathResource("com/poscodx/container/user/applicationContext.xml"));
	//	User user = bf.getBean(User.class);
		//System.out.println(user.getName());
		
	}
}
```


- applicationContext.xml

```java
<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
   xmlns:aop="http://www.springframework.org/schema/aop"
   xmlns:context="http://www.springframework.org/schema/context"
   xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd
        http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop.xsd
        http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd
        http://www.springframework.org/schema/jee http://www.springframework.org/schema/jee/spring-jee.xsd
        http://www.springframework.org/schema/lang http://www.springframework.org/schema/lang/spring-lang.xsd
        http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx.xsd
        http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util.xsd
        http://www.springframework.org/schema/task http://www.springframework.org/schema/task/spring-task.xsd">

<!-- 이게 포인트 --!>
   <context:annotation-config />
   
   
   <context:component-scan base-package="com.poscodx.container.user">
      <context:include-filter type="annotation" expression="org.springframework.stereotype.Component" />
   </context:component-scan>


</beans>
```


- 실행 결과 : 잘 돌아감. 아무것도 안뜸. 에러도 안남.

- XmlConfigTest.java

```java
package com.poscodx.container.user.test;

import org.springframework.beans.factory.BeanFactory;
import org.springframework.beans.factory.xml.XmlBeanFactory;
import org.springframework.core.io.ClassPathResource;

import com.poscodx.container.user.User;

public class XmlConfigTest {
	public static void main(String[] args) {
		//XML Auto Configuration(Annotation Scanning)
		testBeanFactory01();
		
	}

	private static void testBeanFactory01() {
		BeanFactory bf = new XmlBeanFactory(new ClassPathResource("com/poscodx/container/user/applicationContext.xml"));
		User user = bf.getBean(User.class);
		System.out.println(user.getName());
		
	}
}

```

- User.java

```java
package com.poscodx.container.user;

import org.springframework.stereotype.Component;

@Component
public class User {
	private String name = "둘리";
	
	public String getName() {
		return name;
	}
}

```

- 실행 결과

![image](https://github.com/talkingOrange/talkingOrange.github.io/assets/88815795/bb56e606-1ff4-4c93-bd94-435a599b210e)



## container 실습 02

XML Bean Configuration(Explicit Configuration)

명시적으로 Bean을 설정 (오타의 위험이 발생) 

- XmlConfigTest.java

```java
package com.poscodx.container.user.test;

import org.springframework.beans.factory.BeanFactory;
import org.springframework.beans.factory.xml.XmlBeanFactory;
import org.springframework.core.io.ClassPathResource;

import com.poscodx.container.user.User;

public class XmlConfigTest {
	public static void main(String[] args) {
		//XML Auto Configuration(Annotation Scanning)
		testBeanFactory01();
		
		//XML Bean Configuration(Explicit Configuration)
		testBeanFactory02();
		
	}

	private static void testBeanFactory02() {
		BeanFactory bf = new XmlBeanFactory(new ClassPathResource("com/poscodx/container/user/applicationContext02.xml"));
		User user = bf.getBean(User.class);
		System.out.println(user.getName());
		
	}

	private static void testBeanFactory01() {
		BeanFactory bf = new XmlBeanFactory(new ClassPathResource("com/poscodx/container/user/applicationContext.xml"));
		User user = bf.getBean(User.class);
		System.out.println(user.getName());
		
	}
}

```


- applicationContext02.xml

```java
<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
   xmlns:aop="http://www.springframework.org/schema/aop"
   xmlns:context="http://www.springframework.org/schema/context"
   xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd
        http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop.xsd
        http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd
        http://www.springframework.org/schema/jee http://www.springframework.org/schema/jee/spring-jee.xsd
        http://www.springframework.org/schema/lang http://www.springframework.org/schema/lang/spring-lang.xsd
        http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx.xsd
        http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util.xsd
        http://www.springframework.org/schema/task http://www.springframework.org/schema/task/spring-task.xsd">


  <bean class="com.poscodx.container.user.User" />
  


</beans>
```


