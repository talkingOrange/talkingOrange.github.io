---
layout: post
title:  "[포스코DX|Java|3주] 10일차 수업"
date:   2023-08-22
categories: Java
---

# 포스코DX X 비트교육센터 6기 - 비동기 프로그램

--- 

### 비동기😊

non-blocking -> callback

응답이 크게 필요없는 경우, 비동기를 이용한다.

요즘 유행 - 비동기 (알림기능 가능

카카오톡 - 웹 소켓 기반의 비동기 채팅

---

인터넷: 프로그램과 프로그램의 연결
소통방법 : TCP, UDP

> TCP 통신

- 패킷 통신 : 데이터를 쪼갬으로써 다양한 경로로 연결이 가능함.
- 특징 : 3-way handshake

![image](https://github.com/talkingOrange/talkingOrange.github.io/assets/88815795/2560a3e8-e63b-4637-bf9e-472e01978957)

- 확인 과정을 통한 신뢰성 (응답확인) + 시퀀스 번호를 통해 소통이 너무 느리거나 빨라도 시퀀스를 통해 순서대로 전달이 가능하다.

> 통신 과정

1. 인터넷의 데이터는 소켓 버퍼에 쌓인다.
2. 데이터를 얼마만큼 읽어야하는지 알 수 없다.
3. 데이터 크기 명시 필요 (\r\n)



---

### TCP 구조

![image](https://github.com/talkingOrange/talkingOrange.github.io/assets/88815795/9cecbd74-b89c-4848-b90f-0240c730d1ad)

TCP 헤더에 담겨 있는 정보들.

- 신뢰성이 있다. : 정보를 꼭 보내준다.
- windowSize : 사이즈를 통해 공간이 생기면 stream을 관리함. 

---

![image](https://github.com/talkingOrange/talkingOrange.github.io/assets/88815795/ace08581-fc52-47fc-a220-d7e7d26f78b8)
> TCP/IP = 3way

- 따르릉 따르릉 : syn싱크 신호
- 여보세요(전화받은사람) : syn싱크 + ack
- 여보세요 : ack

![image](https://github.com/talkingOrange/talkingOrange.github.io/assets/88815795/a42af546-7235-4594-affb-a74bce73c7f7)

---

### TCP 데이터 송수신 

![image](https://github.com/talkingOrange/talkingOrange.github.io/assets/88815795/d4be0557-f04e-45b6-8f58-a6f15acbae68)

-  ACK 번호  =  SEQ 번호 + 전송된 바이트 크기 + 1

### TCP 데이터 연결종료

![image](https://github.com/talkingOrange/talkingOrange.github.io/assets/88815795/60f0a938-879d-42dc-8ab3-c148456db837)

- 연결종료에서는  바로 뚝! 끊지 않는다.  (우아한 종료)
- 상대방이 전송할 데이터가 남아 있을 지 모르니  상호간에 연결종료에 대한 합의과정을 거친다.
- 패킷 안에 FIN은 종료를 알리는 메시지를 뜻한다.
- 상호간에 FIN 메시지를 한 번씩 주고 받는다 (4-Way Handshaking)
